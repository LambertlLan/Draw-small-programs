<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>110班同学会抽奖活动 </title>
    <meta charset="UTF-8">
    <meta name="Generator" content="EditPlus">
    <meta name="Author" content="">
    <meta name="Keywords" content="">
    <meta name="Description" content="">
    <style type="text/css">
        body{
            background: url("img/bg1.png");
            text-align: center;
            background-repeat: no-repeat;
            height: 100%;
            background-size: cover;
        }
        .border {
            width: 650px;
            background-size: cover;
            margin: 0 auto;
            margin-top: 23%;
            background-image: url("img/border.png");
            background-repeat: no-repeat;
            text-align: center;
            padding: 32px 0;
        }

        .result_box {
            margin: 0 auto;
            margin-top: 140px;
            margin-bottom: 20px;
            width: 466px;
            height: 62px;
            text-align: center;
    
        }

        .result_box #oknum {
            z-index: 2;
            width: 466px;
            height: 62px;
            color: #FFFFFF;
            font-size: 28px;
            font-family: "Microsoft YaHei" ! important;
            text-align: center;
            border: none;
            background: url("img/borderbg.png");
        }

        .button_box {
            margin: 40px 0 0 0;
        }

        .button_box .btn1 {
            background: url("img/btn1.png");
            width: 189px;
            height: 63px;
            cursor: pointer;
            padding: 0 10px;
            margin: 0 10px;
            border: none;
        }

        .button_box .btn2 {
            background: url("img/btn2.png");
            width: 189px;
            height: 63px;
            cursor: pointer;
            padding: 0 10px;
            margin: 0 10px;
            border: none;
        }
        <!--
        .logo {
            margin-top: 10px;
            margin-right: 1000px;
            margin-bottom: 5px;
        }
        
        .t1 {
            margin: 0 auto;
            margin-top: -25px;
        }
        
        -->
    
    
    </style>
    <script src="rest-api.js"></script>
</head>


<body>
<script type="text/javascript">
    //抽奖数据，以英文逗号分隔
    var alldataarr = alldata.split(",");
    var num = alldataarr.length - 1;
    var timer;
    function change() {
        document.getElementById("oknum").value = alldataarr[GetRnd(0, num)];
    }
    function start() {
        clearInterval(timer);
        timer = setInterval('change()', 5); //随机数据变换速度，越小变换的越快
    }
    function ok() {
        clearInterval(timer);
        //以下代码表示获得奖的，不能再获奖了。  重置刷新页面即可。
        alldata = alldata.replace(document.getElementById("oknum").value, "").replace(",,", ",");
        // 去掉前置，最末尾的,
        if (alldata.substr(0, 1) == ",") {
            alldata = alldata.substr(1, alldata.length);
        }
        if (alldata.substr(alldata.length - 1, 1) == ",") {
            alldata = alldata.substring(0, alldata.length - 1);
        }
        alldataarr = alldata.split(",");
        num = alldataarr.length - 1;
    }
    function GetRnd(min, max) {
        return parseInt(Math.random() * (max - min + 1));
    }
</script>

<div class="detail">
    
    <!-- <div class="logo">
    <img src="img/logo.png" />
    </div>
    
    <div class="t1">
    <img src="img/title.png" />
    </div> -->
    
    <div class="border">
        
        
        <div class="result_box">
            <input type="text" id="oknum" name="oknum" value="中奖同学号码"/>
        </div>
        
        <div class="button_box">
            <button class="btn1" onclick="start()" accesskey="s"></button>
            <button class="btn2" onclick="ok()" accesskey="o"></button>
        </div>
    
    </div>

</div>
</body>
</html>
</body>
</html>  
